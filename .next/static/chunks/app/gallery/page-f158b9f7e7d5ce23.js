(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3928],{2227:function(e,t,a){Promise.resolve().then(a.bind(a,3434))},3276:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3434:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var l=a(7437),i=a(2265),s=a(8239),r=a(7586),o=a(3304),c=a(3276);let n=(0,a(9205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var d=a(2489),u=a(6282),m=a(4438),y=a(2603);let p=["All","Medical","Education","Water","Community","Impact","Videos"];function x(){var e;let t;let[a,x]=(0,i.useState)("All"),[f,g]=(0,i.useState)(null),h=(0,y.I0)(),b=(0,y.v9)(e=>e.gallery.gallery),w=async()=>{try{let e=await fetch("/api/v1/admin/gallary/get"),t=await e.json();if(t.success)h((0,u.od)(t.media));else throw Error(t.message)}catch(e){m.A.error(e.message||"Failed to fetch gallery")}};(0,i.useEffect)(()=>{w()},[]);let j="All"===a?b:"Videos"===a?b.filter(e=>"video"===e.type):b.filter(e=>e.category.toLowerCase()===a.toLowerCase()&&"image"===e.type);return(0,l.jsxs)(o.Z,{children:[(0,l.jsxs)("section",{className:"py-20 container mx-auto px-4",children:[(0,l.jsxs)(s.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center mb-16",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Gallery"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground",children:"Visual stories from our work across African communities"})]}),(0,l.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"sticky top-20 z-30 flex flex-wrap gap-3 justify-center mb-6 bg-background/80 backdrop-blur-sm py-3 px-4 rounded-md shadow-sm",children:p.map(e=>(0,l.jsx)("button",{onClick:()=>x(e),className:"px-6 py-2 rounded-full font-semibold transition-all ".concat(a===e?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"),children:e},e))}),(0,l.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12",children:(0,l.jsxs)(r.M,{mode:"popLayout",children:[0===j.length&&(0,l.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"col-span-full text-center text-muted-foreground py-20 text-lg font-medium",children:"All"===a?"No media available at the moment.":"No ".concat(a.toLowerCase()," found in the gallery.")},"empty-state"),j.map(e=>(0,l.jsxs)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:()=>g(e),className:"group relative h-64 overflow-hidden rounded-lg cursor-pointer bg-muted",children:[(0,l.jsx)("img",{src:"video"===e.type?e.thumbnail:e.src,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:"video"===e.type?(0,l.jsx)(c.Z,{size:48,className:"text-white"}):(0,l.jsx)(n,{size:48,className:"text-white"})})]},e._id))]})})]}),(0,l.jsx)(r.M,{children:f&&(0,l.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(null),className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:(0,l.jsxs)(s.E.div,{initial:{scale:.9},animate:{scale:1},onClick:e=>e.stopPropagation(),className:"relative max-w-4xl w-full",children:[(0,l.jsx)("button",{onClick:()=>g(null),className:"absolute top-2 right-2 text-white text-2xl",children:(0,l.jsx)(d.Z,{className:"w-8 h-8"})}),"video"===f.type?f.src.includes("youtube")?(0,l.jsx)("iframe",{src:(e=f.src,t="",e.includes("youtu.be")?t=e.split("youtu.be/")[1].split("?")[0]:e.includes("youtube.com/watch")&&(t=new URLSearchParams(e.split("?")[1]).get("v")||""),"https://www.youtube.com/embed/".concat(t,"?autoplay=1")),className:"w-full h-96 rounded-lg",allowFullScreen:!0}):(0,l.jsx)("video",{src:f.src,controls:!0,autoPlay:!0,className:"w-full rounded-lg"}):(0,l.jsx)("img",{src:f.src,alt:f.title,className:"w-full rounded-lg"}),(0,l.jsx)("div",{className:"mt-4 text-white",children:(0,l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:f.title})})]})})})]})}},6282:function(e,t,a){"use strict";a.d(t,{od:function(){return i}});let l=(0,a(7281).oM)({name:"gallery",initialState:{gallery:[]},reducers:{setGallery(e,t){e.gallery=t.payload},addGallery(e,t){e.gallery.unshift(t.payload)},updateGallery(e,t){let a=e.gallery.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.gallery[a]=t.payload)},deleteGallery(e,t){e.gallery=e.gallery.filter(e=>e._id!==t.payload)}}}),{setGallery:i,addGallery:s,updateGallery:r,deleteGallery:o}=l.actions;t.ZP=l.reducer}},function(e){e.O(0,[1646,9755,2972,2603,7281,3145,4438,3304,2971,2117,1744],function(){return e(e.s=2227)}),_N_E=e.O()}]);