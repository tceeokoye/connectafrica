(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5920],{5984:function(e,t,r){Promise.resolve().then(r.bind(r,63849))},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},63849:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(57437),o=r(2265),n=r(99376),s=r(18913),i=r(60783),l=r(23340),c=r(32603),d=r(74738);function u(){let e=(0,n.useRouter)(),{toast:t}=(0,l.pm)(),{sendRequest:r,loading:u,error:p}=(0,i.i)(),[m,f]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),[b,h]=(0,o.useState)(!1),[v,j]=(0,o.useState)(null),x=(0,c.I0)(),S=async a=>{if(a.preventDefault(),j(null),!m||!g){j("All fields are required.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)){j("Please enter a valid email address.");return}try{let a=await r({url:"/api/v1/admin/login",method:"POST",data:{email:m,password:g}});x(d.N.setToken(a.token)),a.name&&localStorage.setItem("admin_name",a.name),t({title:"Login Successful!",description:"Welcome back, ".concat(a.name||"Admin",".")}),setTimeout(()=>{e.push("/admin/dashboard")},800)}catch(e){var o,n;j((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)||p||"Login failed")}},O="w-full px-4 py-3 rounded-xl border transition-all duration-200 text-gray-700 focus:outline-none focus:ring-1 focus:ring-indigo-500";return(0,a.jsx)("section",{className:"h-dvh flex justify-center items-center bg-gradient-to-br from-indigo-50 to-indigo-100",children:(0,a.jsxs)("div",{className:"max-w-md w-full mx-auto bg-white p-10 rounded-2xl shadow-xl border border-gray-200",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Admin Login"}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-gray-600 mb-2 font-medium",children:"Email"}),(0,a.jsx)("input",{value:m,onChange:e=>f(e.target.value),type:"email",placeholder:"admin@example.com",className:"".concat(O," ").concat(v&&!m?"border-red-500":"border-gray-300"),required:!0})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-gray-600 mb-2 font-medium",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{value:g,onChange:e=>y(e.target.value),type:b?"text":"password",placeholder:"********",className:"".concat(O," ").concat(v&&!g?"border-red-500":"border-gray-300"," pr-12"),required:!0}),(0,a.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500 transition-colors",onClick:()=>h(!b),children:b?(0,a.jsx)(s.MBb,{size:22}):(0,a.jsx)(s.Rbo,{size:22})})]})]}),v&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-xl shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1",children:u?"Signing In...":"Sign In"})})]}),(0,a.jsxs)("p",{className:"text-gray-500 text-center text-sm mt-6",children:["Use ",(0,a.jsx)("span",{className:"font-medium",children:"admin@cohaaf.org"})," / ",(0,a.jsx)("span",{className:"font-medium",children:"password"})," for demo"]})]})})}},23340:function(e,t,r){"use strict";r.d(t,{pm:function(){return p}});var a=r(2265);let o=0,n=new Map,s=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=i(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function p(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},60783:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var a=r(2265),o=r(83464),n=r(38314);let s=o.Z.create({baseURL:"http://localhost:3000",maxBodyLength:1/0,headers:{Accept:"application/json","Content-Type":"application/json"}});s.interceptors.request.use(e=>{var t;console.log("\uD83D\uDCE4 [".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),"] ").concat(e.url),e.data);let r=n.Z.getState().token;return r&&e.headers&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>(console.log("✅ Response [".concat(e.status,"]:"),e.data),e),e=>{var t,r;return console.error("❌ Error [".concat(null===(t=e.response)||void 0===t?void 0:t.status,"]:"),(null===(r=e.response)||void 0===r?void 0:r.data)||e.message),Promise.reject(e)});let i=()=>{let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null);return{sendRequest:(0,a.useCallback)(async e=>{let{url:r,method:a="GET",data:n,params:i,headers:l}=e;t(!0),o(null);try{console.log("\uD83D\uDCE1 useHttp: Sending ".concat(a," to ").concat(r),n);let e=await s.request({url:r,method:a,data:n,params:i,headers:l});return console.log("✅ useHttp: Success",e.data),t(!1),e.data}catch(r){var c,d;console.error("❌ useHttp: Error caught",r);let e=(null==r?void 0:null===(d=r.response)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.message)||(null==r?void 0:r.message)||"Something went wrong";throw console.error("Error message: ".concat(e)),o(e),t(!1),r}},[]),loading:e,error:r}}},38314:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var a=r(55026),o=r(97281),n=r(9628);let s=(0,o.oM)({name:"admin",initialState:{projects:[{id:"p1",title:"Clean Water",description:"Provide wells",status:"active"},{id:"p2",title:"School Build",description:"Build primary school",status:"paused"}],donations:[{id:"d1",donor:"Alice",amount:100,date:"2025-11-01",projectId:"p1"},{id:"d2",donor:"Bob",amount:50,date:"2025-11-03",projectId:"p2"}],subscribers:[{id:"s1",email:"user1@example.com",joinedAt:"2025-10-01"},{id:"s2",email:"user2@example.com",joinedAt:"2025-10-12"}]},reducers:{addProject(e,t){e.projects.push(t.payload)},editProject(e,t){let r=e.projects.findIndex(e=>e.id===t.payload.id);r>=0&&(e.projects[r]=t.payload)},deleteProject(e,t){e.projects=e.projects.filter(e=>e.id!==t.payload)},addDonation(e,t){e.donations.push(t.payload)},deleteDonation(e,t){e.donations=e.donations.filter(e=>e.id!==t.payload)},addSubscriber(e,t){e.subscribers.push(t.payload)},deleteSubscriber(e,t){e.subscribers=e.subscribers.filter(e=>e.id!==t.payload)}}}),{addProject:i,editProject:l,deleteProject:c,addDonation:d,deleteDonation:u,addSubscriber:p,deleteSubscriber:m}=s.actions;var f=s.reducer,g=r(955),y=r(99090),b=r(95699),h=r(74738);let v=(0,o.oM)({name:"campaigns",initialState:{campaigns:[]},reducers:{setCampaigns(e,t){e.campaigns=t.payload},addCampaign(e,t){e.campaigns.unshift(t.payload)},updateCampaign(e,t){let r=e.campaigns.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.campaigns[r]=t.payload)},deleteCampaign(e,t){e.campaigns=e.campaigns.filter(e=>e._id!==t.payload)}}}),{setCampaigns:j,addCampaign:x,updateCampaign:S,deleteCampaign:O}=v.actions;var w=v.reducer;let P=(0,o.oM)({name:"gallery",initialState:{gallery:[]},reducers:{setGallery(e,t){e.gallery=t.payload},addGallery(e,t){e.gallery.unshift(t.payload)},updateGallery(e,t){let r=e.gallery.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.gallery[r]=t.payload)},deleteGallery(e,t){e.gallery=e.gallery.filter(e=>e._id!==t.payload)}}}),{setGallery:E,addGallery:T,updateGallery:N,deleteGallery:k}=P.actions;var _=P.reducer;let A={key:"token",storage:y.Z},C={key:"campaign",storage:y.Z},D={key:"blog",storage:y.Z},I={key:"gallery",storage:y.Z},R=(0,a.UY)({token:(0,n.OJ)(A,h.Z),blog:(0,n.OJ)(D,b.ZP),campaign:(0,n.OJ)(C,w),gallery:(0,n.OJ)(I,_),admin:f,forms:g.ZP}),M=(0,o.xC)({reducer:R,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/FLUSH","persist/PAUSE","persist/PURGE","persist/REGISTER"]}})});(0,n.p5)(M);var Z=M},74738:function(e,t,r){"use strict";r.d(t,{N:function(){return s}});var a=r(97281);let o={token:null},n=(0,a.oM)({name:"token",initialState:o,reducers:{setToken(e,t){e.token=t.payload},deleteToken:()=>o}}),s=n.actions;t.Z=n.reducer},95699:function(e,t,r){"use strict";r.d(t,{X4:function(){return i},dr:function(){return o}});let a=(0,r(97281).oM)({name:"blogs",initialState:{blogs:[]},reducers:{setBlogs(e,t){e.blogs=t.payload},addBlog(e,t){e.blogs.unshift(t.payload)},updateBlog(e,t){let r=e.blogs.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.blogs[r]=t.payload)},deleteBlog(e,t){e.blogs=e.blogs.filter(e=>e._id!==t.payload)}}}),{setBlogs:o,addBlog:n,updateBlog:s,deleteBlog:i}=a.actions;t.ZP=a.reducer},955:function(e,t,r){"use strict";r.d(t,{ME:function(){return n}});let a=(0,r(97281).oM)({name:"forms",initialState:{contact:[],donations:[]},reducers:{submitContact(e,t){e.contact.push(t.payload)},submitDonation(e,t){e.donations.push(t.payload)},clearContact(e){e.contact=[]},clearDonations(e){e.donations=[]}}}),{submitContact:o,submitDonation:n,clearContact:s,clearDonations:i}=a.actions;t.ZP=a.reducer},46231:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var a=r(2265),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(o),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,o;a=t,o=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:o,size:n,title:l}=e,d=function(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(o)}}},function(e){e.O(0,[8422,2603,7281,4258,3464,2971,2117,1744],function(){return e(e.s=5984)}),_N_E=e.O()}]);