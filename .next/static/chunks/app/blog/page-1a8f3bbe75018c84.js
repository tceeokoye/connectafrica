(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9404],{5208:function(e,t,s){Promise.resolve().then(s.bind(s,2141))},2141:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var l=s(7437),a=s(2265),r=s(3304),o=s(8239),n=s(7648),i=s(2603),d=s(5699),c=s(4438);function u(){let e=(0,i.I0)(),t=(0,i.v9)(e=>e.blog.blogs),[s,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g(!0)},[]);let p=async()=>{u(!0);try{let t=await fetch("/api/v1/admin/blog/get"),s=await t.json();if(!s.success)throw Error(s.message||"Failed to fetch blogs");e((0,d.dr)(s.blogs))}catch(e){c.A.error(e.message||"Failed to load blogs"),console.error(e)}finally{u(!1)}};(0,a.useEffect)(()=>{p()},[]);let h=m?t.filter(e=>{var t;return null===(t=e.tags)||void 0===t?void 0:t.includes(m)}):t,b=Array.from(new Set(t.flatMap(e=>e.tags||[])));return f?(0,l.jsx)(r.Z,{children:(0,l.jsxs)("section",{className:"py-20 container mx-auto px-4",children:[(0,l.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-3",children:"Stories & Updates"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Recent impact reports, partner stories, and updates from the field."})]}),b.length>0&&(0,l.jsxs)("div",{className:"sticky top-20 z-40 bg-muted/50 backdrop-blur-md py-4 mb-8 flex flex-wrap justify-center gap-3 rounded-lg shadow-sm",children:[(0,l.jsx)("button",{onClick:()=>x(null),className:"px-3 py-1 rounded-full ".concat(m?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"),children:"All"}),b.map(e=>(0,l.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 rounded-full ".concat(m===e?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e},e))]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.map((e,t)=>{var s;return(0,l.jsxs)(o.E.article,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.08*t},className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,l.jsxs)("div",{className:"relative h-44 overflow-hidden",children:[(0,l.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:[new Date(e.createdAt).toLocaleDateString()," • ",e.author]}),(0,l.jsx)("h3",{className:"font-semibold text-xl mb-2 text-foreground",children:e.title}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:e.excerpt}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex gap-2",children:null===(s=e.tags)||void 0===s?void 0:s.map(e=>(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-secondary text-foreground",children:e},e))}),(0,l.jsx)(n.default,{href:"/blog/".concat(e.slug),className:"text-primary font-semibold",children:"Read more →"})]})]})]},e._id)}),0===h.length&&!s&&(0,l.jsx)("p",{className:"text-center text-muted-foreground col-span-full",children:"No posts found for this filter."})]})]})}):(0,l.jsx)(r.Z,{children:(0,l.jsx)("section",{className:"py-20 container mx-auto px-4"})})}},5699:function(e,t,s){"use strict";s.d(t,{X4:function(){return n},dr:function(){return a}});let l=(0,s(7281).oM)({name:"blogs",initialState:{blogs:[]},reducers:{setBlogs(e,t){e.blogs=t.payload},addBlog(e,t){e.blogs.unshift(t.payload)},updateBlog(e,t){let s=e.blogs.findIndex(e=>e._id===t.payload._id);-1!==s&&(e.blogs[s]=t.payload)},deleteBlog(e,t){e.blogs=e.blogs.filter(e=>e._id!==t.payload)}}}),{setBlogs:a,addBlog:r,updateBlog:o,deleteBlog:n}=l.actions;t.ZP=l.reducer}},function(e){e.O(0,[1646,9755,2972,2603,7281,3145,4438,3304,2971,2117,1744],function(){return e(e.s=5208)}),_N_E=e.O()}]);