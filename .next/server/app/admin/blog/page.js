(()=>{var e={};e.id=4063,e.ids=[4063],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},21654:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(44466),t(49203),t(12523);var r=t(23191),a=t(88716),o=t(37922),l=t.n(o),n=t(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let c=["",{children:["admin",{children:["blog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44466)),"C:\\Users\\HP\\OneDrive\\Desktop\\project2\\connect africa\\src\\app\\admin\\blog\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,49203)),"C:\\Users\\HP\\OneDrive\\Desktop\\project2\\connect africa\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\HP\\OneDrive\\Desktop\\project2\\connect africa\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\HP\\OneDrive\\Desktop\\project2\\connect africa\\src\\app\\admin\\blog\\page.tsx"],p="/admin/blog/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/blog/page",pathname:"/admin/blog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96560:(e,s,t)=>{Promise.resolve().then(t.bind(t,30433))},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},30433:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(10326),a=t(17577),o=t(84386),l=t(91664),n=t(83855),i=t(12714),c=t(69508),d=t(98091),p=t(75525),x=t(85999),u=t(9543),m=t(35047),h=t(34491),g=t(76050),j=t(80464);function f(){let[e,s]=(0,a.useState)(!1),[t,f]=(0,a.useState)(void 0),[b,v]=(0,a.useState)(!0),[y,N]=(0,a.useState)(""),[P,_]=(0,a.useState)(!1);(0,u.v9)(e=>e.token.token);let k=(0,u.v9)(e=>e.blog.blogs),w=(0,u.I0)(),C=(0,m.useRouter)(),z=async()=>{v(!0);try{let e=await fetch("/api/v1/admin/blog/get"),s=await e.json();if(!s.success)throw Error(s.message||"Failed to fetch blogs");console.log("dtatata",s.blogs),w((0,h.dr)(s.blogs))}catch(e){x.A.error(e.message||"Failed to load blogs"),console.log("error",e.message)}finally{v(!1)}},D=e=>{f(e),s(!0)},Z=e=>{C.push(`/admin/dashboard/blog/${e.slug}`)};return console.log("new blogs",k),r.jsx(j.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row gap-4 md:items-center md:justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Blog Posts"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and publish blog posts"})]}),(0,r.jsxs)(l.z,{onClick:()=>{f(void 0),s(!0)},children:[r.jsx(n.Z,{size:18})," New Post"]})]}),r.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card rounded-xl p-6 shadow-soft overflow-x-auto",children:b?r.jsx("div",{className:"w-full flex justify-center items-center py-12 text-muted-foreground",children:"Fetching your blogs..."}):0===k.length?r.jsx("p",{className:"text-muted-foreground text-center py-12",children:"No blogs yet"}):(0,r.jsxs)("table",{className:"w-full table-auto border-collapse",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-muted-foreground/10",children:[r.jsx("th",{className:"p-3 text-left",children:"Title"}),r.jsx("th",{className:"p-3 text-left",children:"Author"}),r.jsx("th",{className:"p-3 text-left",children:"Category"}),r.jsx("th",{className:"p-3 text-left",children:"Read Time"}),r.jsx("th",{className:"p-3 text-left",children:"Featured"}),r.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),r.jsx("tbody",{children:k.map(e=>(0,r.jsxs)("tr",{className:"border-t hover:bg-muted-foreground/5",children:[r.jsx("td",{className:"p-3",children:e.title}),r.jsx("td",{className:"p-3",children:e.author}),r.jsx("td",{className:"p-3",children:e.category}),r.jsx("td",{className:"p-3",children:e.readTime}),r.jsx("td",{className:"p-3",children:e.featured?"Yes":"No"}),(0,r.jsxs)("td",{className:"p-3 flex justify-center gap-2",children:[r.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>Z(e),children:r.jsx(i.Z,{size:16})}),r.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>D(e),children:r.jsx(c.Z,{size:16})}),r.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>{N(e._id),_(!0)},children:r.jsx(d.Z,{size:16})})]})]},e._id))})]})}),e&&r.jsx(p.Z,{isOpen:e,onClose:()=>s(!1),blog:t,onSave:z}),r.jsx(g.Z,{isOpen:P,onClose:()=>_(!1),blogId:y})]})})}},44466:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\HP\OneDrive\Desktop\project2\connect africa\src\app\admin\blog\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,1004,335,257,1478,958,2944],()=>t(21654));module.exports=r})();